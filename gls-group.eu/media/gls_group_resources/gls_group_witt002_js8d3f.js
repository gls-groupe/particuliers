/*! License information is available at /media/gls_group_resources/gls_group_licenses_txt.txt */(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{23:function(e,t){!function(t,n,r,a,o,i){var c,s,l,u,p,d=this,f=Math.floor(1e4*Math.random()),h=Function.prototype,m=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,v=/[\-\w]+\/\.\.\//,y=/([^:])\/\//g,g="",b={},O=t.easyXDM,w="easyXDM_",j=!1;function S(e,t){var n=typeof e[t];return"function"==n||!("object"!=n||!e[t])||"unknown"==n}function _(){var e,t="Shockwave Flash",n="application/x-shockwave-flash";if(!N(navigator.plugins)&&"object"==typeof navigator.plugins[t]){var r=navigator.plugins[t].description;r&&!N(navigator.mimeTypes)&&navigator.mimeTypes[n]&&navigator.mimeTypes[n].enabledPlugin&&(s=r.match(/\d+/g))}if(!s)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),s=Array.prototype.slice.call(e.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),e=null}catch(e){}if(!s)return!1;var a=parseInt(s[0],10),o=parseInt(s[1],10);return l=a>9&&o>0,!0}if(S(t,"addEventListener"))u=function(e,t,n){e.addEventListener(t,n,!1)},p=function(e,t,n){e.removeEventListener(t,n,!1)};else{if(!S(t,"attachEvent"))throw new Error("Browser not supported");u=function(e,t,n){e.attachEvent("on"+t,n)},p=function(e,t,n){e.detachEvent("on"+t,n)}}var P,k=!1,x=[];function T(){if(!k){k=!0;for(var e=0;e<x.length;e++)x[e]();x.length=0}}if("readyState"in n?(P=n.readyState,k="complete"==P||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==P||"interactive"==P)):k=!!n.body,!k){if(S(t,"addEventListener"))u(n,"DOMContentLoaded",T);else if(u(n,"readystatechange",(function(){"complete"==n.readyState&&T()})),n.documentElement.doScroll&&t===top){var A=function(){if(!k){try{n.documentElement.doScroll("left")}catch(e){return void a(A,1)}T()}};A()}u(t,"load",T)}function R(e,t){k?e.call(t):x.push((function(){e.call(t)}))}function D(e){return e.match(m)[3]}function I(e){var t=e.toLowerCase().match(m),n=t[2],r=t[3],a=t[4]||"";return("http:"==n&&":80"==a||"https:"==n&&":443"==a)&&(a=""),n+"//"+r+a}function E(e){if(!(e=e.replace(y,"$1/")).match(/^(http||https):\/\//)){var t="/"===e.substring(0,1)?"":r.pathname;"/"!==t.substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=r.protocol+"//"+r.host+t+e}for(;v.test(e);)e=e.replace(v,"");return e}function C(e,t){var n="",r=e.indexOf("#");-1!==r&&(n=e.substring(r),e=e.substring(0,r));var a=[];for(var o in t)t.hasOwnProperty(o)&&a.push(o+"="+i(t[o]));return e+(j?"#":-1==e.indexOf("?")?"?":"&")+a.join("&")+n}var L=function(e){for(var t,n={},r=(e=e.substring(1).split("&")).length;r--;)n[(t=e[r].split("="))[0]]=o(t[1]);return n}(/xdm_e=/.test(r.search)?r.search:r.hash);function N(e){return void 0===e}var M,F=function(){var e={},t={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===n&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=n.evalJSON()).a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()}),e.stringify&&e.parse?(F=function(){return e},e):null)};function H(e,t,n){var r;for(var a in t)t.hasOwnProperty(a)&&(a in e?"object"==typeof(r=t[a])?H(e[a],r,n):n||(e[a]=t[a]):e[a]=t[a]);return e}function B(e){var t;N(c)&&function(){var e=n.body.appendChild(n.createElement("form")),t=e.appendChild(n.createElement("input"));t.name=w+"TEST"+f,c=t!==e.elements[t.name],n.body.removeChild(e)}(),c?t=n.createElement('<iframe name="'+e.props.name+'"/>'):(t=n.createElement("IFRAME")).name=e.props.name,t.id=t.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=n.getElementById(e.container)),e.container||(H(t.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=n.body);var r=e.props.src;if(e.props.src="javascript:false",H(t,e.props),t.border=t.frameBorder=0,t.allowTransparency=!0,e.container.appendChild(t),e.onLoad&&u(t,"load",e.onLoad),e.usePost){var a,o=e.container.appendChild(n.createElement("form"));if(o.target=t.name,o.action=r,o.method="POST","object"==typeof e.usePost)for(var i in e.usePost)e.usePost.hasOwnProperty(i)&&(c?a=n.createElement('<input name="'+i+'"/>'):(a=n.createElement("INPUT")).name=i,a.value=e.usePost[i],o.appendChild(a));o.submit(),o.parentNode.removeChild(o)}else t.src=r;return e.props.src=r,t}function U(e){var a,o=e.protocol;if(e.isHost=e.isHost||N(L.xdm_p),j=e.hash||!1,e.props||(e.props={}),e.isHost)e.remote=E(e.remote),e.channel=e.channel||"default"+f++,e.secret=Math.random().toString(16).substring(2),N(o)&&(o=I(r.href)==I(e.remote)?"4":S(t,"postMessage")||S(n,"postMessage")?"1":e.swf&&S(t,"ActiveXObject")&&_()?"6":"Gecko"===navigator.product&&"frameElement"in t&&-1==navigator.userAgent.indexOf("WebKit")?"5":e.remoteHelper?"2":"0");else if(e.channel=L.xdm_c.replace(/["'<>\\]/g,""),e.secret=L.xdm_s,e.remote=L.xdm_e.replace(/["'<>\\]/g,""),o=L.xdm_p,e.acl&&!function(e,t){"string"==typeof e&&(e=[e]);for(var n,r=e.length;r--;)if(n=e[r],(n=new RegExp("^"==n.substr(0,1)?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$")).test(t))return!0;return!1}(e.acl,e.remote))throw new Error("Access denied for "+e.remote);switch(e.protocol=o,o){case"0":if(H(e,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),e.isHost){if(!e.local){for(var i,c=r.protocol+"//"+r.host,l=n.body.getElementsByTagName("img"),u=l.length;u--;)if((i=l[u]).src.substring(0,c.length)===c){e.local=i.src;break}e.local||(e.local=t)}var p={xdm_c:e.channel,xdm_p:0};e.local===t?(e.usePolling=!0,e.useParent=!0,e.local=r.protocol+"//"+r.host+r.pathname+r.search,p.xdm_e=e.local,p.xdm_pa=1):p.xdm_e=E(e.local),e.container&&(e.useResize=!1,p.xdm_po=1),e.remote=C(e.remote,p)}else H(e,{channel:L.xdm_c,remote:L.xdm_e,useParent:!N(L.xdm_pa),usePolling:!N(L.xdm_po),useResize:!e.useParent&&e.useResize});a=[new b.stack.HashTransport(e),new b.stack.ReliableBehavior({}),new b.stack.QueueBehavior({encode:!0,maxLength:4e3-e.remote.length}),new b.stack.VerifyBehavior({initiate:e.isHost})];break;case"1":a=[new b.stack.PostMessageTransport(e)];break;case"2":e.isHost&&(e.remoteHelper=E(e.remoteHelper)),a=[new b.stack.NameTransport(e),new b.stack.QueueBehavior,new b.stack.VerifyBehavior({initiate:e.isHost})];break;case"3":a=[new b.stack.NixTransport(e)];break;case"4":a=[new b.stack.SameOriginTransport(e)];break;case"5":a=[new b.stack.FrameElementTransport(e)];break;case"6":s||_(),a=[new b.stack.FlashTransport(e)]}return a.push(new b.stack.QueueBehavior({lazy:e.lazy,remove:!0})),a}function G(e){for(var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},r=0,a=e.length;r<a;r++)H(t=e[r],n,!0),0!==r&&(t.down=e[r-1]),r!==a-1&&(t.up=e[r+1]);return t}H(b,{version:"2.4.19",query:L,stack:{},apply:H,getJSONObject:F,whenReady:R,noConflict:function(e){return t.easyXDM=O,(g=e)&&(w="easyXDM_"+g.replace(".","_")+"_"),b}}),b.DomHelper={on:u,un:p,requiresJSON:function(e){var r,a;"object"==typeof(r=t)[a="JSON"]&&r[a]||n.write('<script type="text/javascript" src="'+e+'"><\/script>')}},M={},b.Fn={set:function(e,t){M[e]=t},get:function(e,t){if(M.hasOwnProperty(e)){var n=M[e];return t&&delete M[e],n}}},b.Socket=function(e){var t=G(U(e).concat([{incoming:function(t,n){e.onMessage(t,n)},callback:function(t){e.onReady&&e.onReady(t)}}])),n=I(e.remote);this.origin=I(e.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,n)},t.init()},b.Rpc=function(e,t){if(t.local)for(var n in t.local)if(t.local.hasOwnProperty(n)){var r=t.local[n];"function"==typeof r&&(t.local[n]={method:r})}var a=G(U(e).concat([new b.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=I(e.remote),this.destroy=function(){a.destroy()},a.init()},b.stack.SameOriginTransport=function(e){var t,n,o,i;return t={outgoing:function(e,t,n){o(e),n&&n()},destroy:function(){n&&(n.parentNode.removeChild(n),n=null)},onDOMReady:function(){i=I(e.remote),e.isHost?(H(e.props,{src:C(e.remote,{xdm_e:r.protocol+"//"+r.host+r.pathname,xdm_c:e.channel,xdm_p:4}),name:w+e.channel+"_provider"}),n=B(e),b.Fn.set(e.channel,(function(e){return o=e,a((function(){t.up.callback(!0)}),0),function(e){t.up.incoming(e,i)}}))):(o=function(){var e=parent;if(""!==g)for(var t=0,n=g.split(".");t<n.length;t++)e=e[n[t]];return e.easyXDM}().Fn.get(e.channel,!0)((function(e){t.up.incoming(e,i)})),a((function(){t.up.callback(!0)}),0))},init:function(){R(t.onDOMReady,t)}}},b.stack.FlashTransport=function(e){var t,o,c,s,u;function p(e,n){a((function(){t.up.incoming(e,c)}),0)}function f(t){var r=e.swf+"?host="+e.isHost,a="easyXDM_swf_"+Math.floor(1e4*Math.random());b.Fn.set("flash_loaded"+t.replace(/[\-.]/g,"_"),(function(){b.stack.FlashTransport[t].swf=s=u.firstChild;for(var e=b.stack.FlashTransport[t].queue,n=0;n<e.length;n++)e[n]();e.length=0})),e.swfContainer?u="string"==typeof e.swfContainer?n.getElementById(e.swfContainer):e.swfContainer:(H((u=n.createElement("div")).style,l&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),n.body.appendChild(u));var o="callback=flash_loaded"+i(t.replace(/[\-.]/g,"_"))+"&proto="+d.location.protocol+"&domain="+i(D(d.location.href))+"&port="+i(function(e){return e.match(m)[4]||""}(d.location.href))+"&ns="+i(g);u.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+a+"' data='"+r+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+r+"'></param><param name='flashvars' value='"+o+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+o+"' allowScriptAccess='always' wmode='transparent' src='"+r+"' height='1' width='1'></embed></object>"}return t={outgoing:function(t,n,r){s.postMessage(e.channel,t.toString()),r&&r()},destroy:function(){try{s.destroyChannel(e.channel)}catch(e){}s=null,o&&(o.parentNode.removeChild(o),o=null)},onDOMReady:function(){c=e.remote,b.Fn.set("flash_"+e.channel+"_init",(function(){a((function(){t.up.callback(!0)}))})),b.Fn.set("flash_"+e.channel+"_onMessage",p),e.swf=E(e.swf);var n=D(e.swf),i=function(){b.stack.FlashTransport[n].init=!0,(s=b.stack.FlashTransport[n].swf).createChannel(e.channel,e.secret,I(e.remote),e.isHost),e.isHost&&(l&&e.swfNoThrottle&&H(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),H(e.props,{src:C(e.remote,{xdm_e:I(r.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:w+e.channel+"_provider"}),o=B(e))};b.stack.FlashTransport[n]&&b.stack.FlashTransport[n].init?i():b.stack.FlashTransport[n]?b.stack.FlashTransport[n].queue.push(i):(b.stack.FlashTransport[n]={queue:[i]},f(n))},init:function(){R(t.onDOMReady,t)}}},b.stack.PostMessageTransport=function(e){var n,o,i,c;function s(t){var a=function(e){if(e.origin)return I(e.origin);if(e.uri)return I(e.uri);if(e.domain)return r.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}(t);a==c&&t.data.substring(0,e.channel.length+1)==e.channel+" "&&n.up.incoming(t.data.substring(e.channel.length+1),a)}return n={outgoing:function(t,n,r){i.postMessage(e.channel+" "+t,n||c),r&&r()},destroy:function(){p(t,"message",s),o&&(i=null,o.parentNode.removeChild(o),o=null)},onDOMReady:function(){if(c=I(e.remote),e.isHost){var l=function(r){r.data==e.channel+"-ready"&&(i="postMessage"in o.contentWindow?o.contentWindow:o.contentWindow.document,p(t,"message",l),u(t,"message",s),a((function(){n.up.callback(!0)}),0))};u(t,"message",l),H(e.props,{src:C(e.remote,{xdm_e:I(r.href),xdm_c:e.channel,xdm_p:1}),name:w+e.channel+"_provider"}),o=B(e)}else u(t,"message",s),(i="postMessage"in t.parent?t.parent:t.parent.document).postMessage(e.channel+"-ready",c),a((function(){n.up.callback(!0)}),0)},init:function(){R(n.onDOMReady,n)}}},b.stack.FrameElementTransport=function(e){var o,i,c,s;return o={outgoing:function(e,t,n){c.call(this,e),n&&n()},destroy:function(){i&&(i.parentNode.removeChild(i),i=null)},onDOMReady:function(){s=I(e.remote),e.isHost?(H(e.props,{src:C(e.remote,{xdm_e:I(r.href),xdm_c:e.channel,xdm_p:5}),name:w+e.channel+"_provider"}),(i=B(e)).fn=function(e){return delete i.fn,c=e,a((function(){o.up.callback(!0)}),0),function(e){o.up.incoming(e,s)}}):(n.referrer&&I(n.referrer)!=L.xdm_e&&(t.top.location=L.xdm_e),c=t.frameElement.fn((function(e){o.up.incoming(e,s)})),o.up.callback(!0))},init:function(){R(o.onDOMReady,o)}}},b.stack.NameTransport=function(e){var t,n,r,o,i,c,s,l;function u(t){var a=e.remoteHelper+(n?"#_3":"#_2")+e.channel;r.contentWindow.sendMessage(t,a)}function d(){n?2!=++i&&n||t.up.callback(!0):(u("ready"),t.up.callback(!0))}function f(e){t.up.incoming(e,s)}function h(){c&&a((function(){c(!0)}),0)}return t={outgoing:function(e,t,n){c=n,u(e)},destroy:function(){r.parentNode.removeChild(r),r=null,n&&(o.parentNode.removeChild(o),o=null)},onDOMReady:function(){n=e.isHost,i=0,s=I(e.remote),e.local=E(e.local),n?(b.Fn.set(e.channel,(function(t){n&&"ready"===t&&(b.Fn.set(e.channel,f),d())})),l=C(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),H(e.props,{src:l+"#"+e.channel,name:w+e.channel+"_provider"}),o=B(e)):(e.remoteHelper=e.remote,b.Fn.set(e.channel,f));var t=function(){var n=r||this;p(n,"load",t),b.Fn.set(e.channel+"_load",h),function e(){"function"==typeof n.contentWindow.sendMessage?d():a(e,50)}()};r=B({props:{src:e.local+"#_4"+e.channel},onLoad:t})},init:function(){R(t.onDOMReady,t)}}},b.stack.HashTransport=function(e){var n,r,o,i,c,s,l,u,p,d;function f(){if(l){var e=l.location.href,t="",r=e.indexOf("#");-1!=r&&(t=e.substring(r)),t&&t!=c&&function(e){c=e,n.up.incoming(c.substring(c.indexOf("_")+1),d)}(t)}}function h(){o=setInterval(f,i)}return n={outgoing:function(t,n){!function(t){if(u){var n=e.remote+"#"+s+++"_"+t;(r||!p?u.contentWindow:u).location=n}}(t)},destroy:function(){t.clearInterval(o),!r&&p||u.parentNode.removeChild(u),u=null},onDOMReady:function(){if(r=e.isHost,i=e.interval,c="#"+e.channel,s=0,p=e.useParent,d=I(e.remote),r){if(H(e.props,{src:e.remote,name:w+e.channel+"_provider"}),p)e.onLoad=function(){l=t,h(),n.up.callback(!0)};else{var o=0,f=e.delay/50;!function t(){if(++o>f)throw new Error("Unable to reference listenerwindow");try{l=u.contentWindow.frames[w+e.channel+"_consumer"]}catch(e){}l?(h(),n.up.callback(!0)):a(t,50)}()}u=B(e)}else l=t,h(),p?(u=parent,n.up.callback(!0)):(H(e,{props:{src:e.remote+"#"+e.channel+new Date,name:w+e.channel+"_consumer"},onLoad:function(){n.up.callback(!0)}}),u=B(e))},init:function(){R(n.onDOMReady,n)}}},b.stack.ReliableBehavior=function(e){var t,n,r=0,a=0,o="";return t={incoming:function(e,i){var c=e.indexOf("_"),s=e.substring(0,c).split(",");e=e.substring(c+1),s[0]==r&&(o="",n&&n(!0)),e.length>0&&(t.down.outgoing(s[1]+","+r+"_"+o,i),a!=s[1]&&(a=s[1],t.up.incoming(e,i)))},outgoing:function(e,i,c){o=e,n=c,t.down.outgoing(a+","+ ++r+"_"+e,i)}}},b.stack.QueueBehavior=function(e){var t,n,r=[],c=!0,s="",l=0,u=!1,p=!1;function d(){if(e.remove&&0===r.length)return(o=t).up.down=o.down,o.down.up=o.up,void(o.up=o.down=null);var o;if(!c&&0!==r.length&&!n){c=!0;var i=r.shift();t.down.outgoing(i.data,i.origin,(function(e){c=!1,i.callback&&a((function(){i.callback(e)}),0),d()}))}}return t={init:function(){N(e)&&(e={}),e.maxLength&&(l=e.maxLength,p=!0),e.lazy?u=!0:t.down.init()},callback:function(e){c=!1;var n=t.up;d(),n.callback(e)},incoming:function(n,r){if(p){var a=n.indexOf("_"),i=parseInt(n.substring(0,a),10);s+=n.substring(a+1),0===i&&(e.encode&&(s=o(s)),t.up.incoming(s,r),s="")}else t.up.incoming(n,r)},outgoing:function(n,a,o){e.encode&&(n=i(n));var c,s=[];if(p){for(;0!==n.length;)c=n.substring(0,l),n=n.substring(c.length),s.push(c);for(;c=s.shift();)r.push({data:s.length+"_"+c,origin:a,callback:0===s.length?o:null})}else r.push({data:n,origin:a,callback:o});u?t.down.init():d()},destroy:function(){n=!0,t.down.destroy()}}},b.stack.VerifyBehavior=function(e){var t,n,r;function a(){n=Math.random().toString(16).substring(2),t.down.outgoing(n)}return t={incoming:function(o,i){var c=o.indexOf("_");-1===c?o===n?t.up.callback(!0):r||(r=o,e.initiate||a(),t.down.outgoing(o)):o.substring(0,c)===r&&t.up.incoming(o.substring(c+1),i)},outgoing:function(e,r,a){t.down.outgoing(n+"_"+e,r,a)},callback:function(t){e.initiate&&a()}}},b.stack.RpcBehavior=function(e,t){var n,r=t.serializer||F(),a=0,o={};function i(e){e.jsonrpc="2.0",n.down.outgoing(r.stringify(e))}function c(e,t){var n=Array.prototype.slice;return function(){var r,c=arguments.length,s={method:t};c>0&&"function"==typeof arguments[c-1]?(c>1&&"function"==typeof arguments[c-2]?(r={success:arguments[c-2],error:arguments[c-1]},s.params=n.call(arguments,0,c-2)):(r={success:arguments[c-1]},s.params=n.call(arguments,0,c-1)),o[""+ ++a]=r,s.id=a):s.params=n.call(arguments,0),e.namedParams&&1===s.params.length&&(s.params=s.params[0]),i(s)}}function s(e,t,n,r){if(n){var a,o,c;t?(a=function(e){a=h,i({id:t,result:e})},o=function(e,n){o=h;var r={id:t,error:{code:-32099,message:e}};n&&(r.error.data=n),i(r)}):a=o=h,c=r,"[object Array]"!==Object.prototype.toString.call(c)&&(r=[r]);try{var s=n.method.apply(n.scope,r.concat([a,o]));N(s)||a(s)}catch(e){o(e.message)}}else t&&i({id:t,error:{code:-32601,message:"Procedure not found."}})}return n={incoming:function(e,n){var a=r.parse(e);if(a.method)t.handle?t.handle(a,i):s(a.method,a.id,t.local[a.method],a.params);else{var c=o[a.id];a.error?c.error&&c.error(a.error):c.success&&c.success(a.result),delete o[a.id]}},init:function(){if(t.remote)for(var r in t.remote)t.remote.hasOwnProperty(r)&&(e[r]=c(t.remote[r],r));n.down.init()},destroy:function(){for(var r in t.remote)t.remote.hasOwnProperty(r)&&e.hasOwnProperty(r)&&delete e[r];n.down.destroy()}}},e.exports=b}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent)},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n(103),o=n(303),i=n(23),c=n.n(i),s="cmp:location-select";!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selector=".js-modal-location-selector",t.addressProvider=function(){return t.address||""},t.postalAreaProvider=function(){return t.postalArea||""},t.countryProvider=function(){return t.country||""},t.parcelShopIDProvider=function(){return t.parcelShopID||""},t.depotIDProvider=function(){return t.depotID||""},t.initSocket=function(){var e=t.getAddress(),n=t.getPostalArea(),r=t.getCountry(),a=t.getParcelShopID(),o=t.getDepotID(),i=new URL(t.remoteUrl);i.searchParams.append("lang",t.lang||"en_GB"),r&&i.searchParams.append("country0",r),e&&i.searchParams.append(t.addressQueryName,e),n&&i.searchParams.append(t.postalAreaQueryName,n),t.type&&i.searchParams.append("type",t.type),t.mapStyle&&i.searchParams.append("style",t.mapStyle),"P"===t.type&&a&&i.searchParams.append("bypsid",a),"D"===t.type&&o&&i.searchParams.append("poi",o),t.deliveryTime&&i.searchParams.append("deliveryTime",t.deliveryTime),t.storagePeriod&&i.searchParams.append("storagePeriod",t.storagePeriod),t.socket=new c.a.Socket({remote:i.toString().replace(/\+/g,"%20"),props:{height:t.height,width:t.width,allowTransparency:"true",scrolling:"true"===t.noScrolling?"no":"auto"},container:t.querySelector(".js-embedded-map"),onMessage:t.handleMessage}),t.selectedLocationId=void 0},t.destroySocket=function(){var e;return null===(e=t.socket)||void 0===e?void 0:e.destroy()},t.handleMessage=function(e,n){t.selectedLocationId=e&&"null"!==e?e:void 0,t.submitBtn.disabled=!t.selectedLocationId},t.handleSubmit=function(){t.dispatchEvent(new CustomEvent(s,{detail:t.selectedLocationId})),t.isInline||$(t).find(t.selector).modal("hide")},t}Object(r.d)(t,e),t.prototype.init=function(){var e=a.a.compile('{{^inline}}\n<div class="modal js-modal-location-selector" id="{{modalId}}" tabindex="-1" role="dialog"\n     aria-labelledby="{{modalId}}_title" aria-hidden="true">\n  <div class="modal-dialog modal-lg modal-location-selector" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h5 class="modal-title" id="{{modalId}}_title">{{modalTitle}}</h5>\n        <button type="button" class="close" data-dismiss="modal" aria-label="{{labelClose}}">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body overflow-auto">\n{{/inline}}\n        <div class="js-embedded-map text-center">\n        </div>\n{{^inline}}\n        <div class="row form-row mt-4">\n          {{#labelCancel}}\n          <div class="{{#labelApply}}col-6 text-left{{/labelApply}}{{^labelApply}}col text-right{{/labelApply}}">\n            <button type="button" class="btn btn-secondary" data-dismiss="modal">{{.}}</button>\n          </div>\n          {{/labelCancel}}\n          {{#labelApply}}\n          <div class="col-6 text-right">\n            <button type="submit" class="btn btn-primary" data-action="apply" disabled>{{.}} &gt;</button>\n          </div>\n          {{/labelApply}}\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n{{/inline}}\n');this.insertAdjacentHTML("beforeend",e({modalId:this.modalId,modalTitle:this.modalTitle,labelClose:this.labelClose,labelApply:this.labelApply,labelCancel:this.labelCancel,inline:this.isInline})),this.isInline?this.initSocket():(this.submitBtn=this.querySelector("[data-action=apply]"),$(this).on("show.bs.modal",this.selector,this.initSocket).on("hidden.bs.modal",this.selector,this.destroySocket).on("click","[data-action=apply]",this.handleSubmit))},Object.defineProperty(t.prototype,"isInline",{get:function(){return"false"!==this.inline},enumerable:!0,configurable:!0}),t.prototype.getAddress=function(){return this.addressProvider()},t.prototype.getPostalArea=function(){return this.postalAreaProvider()},t.prototype.getCountry=function(){return this.countryProvider()},t.prototype.getParcelShopID=function(){return this.parcelShopIDProvider()},t.prototype.getDepotID=function(){return this.depotIDProvider()},Object(r.c)([Object(o.a)("width","720")],t.prototype,"width",void 0),Object(r.c)([Object(o.a)("height","420")],t.prototype,"height",void 0),Object(r.c)([Object(o.a)("no-scrolling")],t.prototype,"noScrolling",void 0),Object(r.c)([Object(o.a)("type")],t.prototype,"type",void 0),Object(r.c)([Object(o.a)("delivery-time")],t.prototype,"deliveryTime",void 0),Object(r.c)([Object(o.a)("storage-period")],t.prototype,"storagePeriod",void 0),Object(r.c)([Object(o.a)("remote-url","https://customlocation.here.com/glsgroup/?app=gls2016")],t.prototype,"remoteUrl",void 0),Object(r.c)([Object(o.a)("modal-id","mdl_location_search")],t.prototype,"modalId",void 0),Object(r.c)([Object(o.a)("modal-title","GLS Location Search")],t.prototype,"modalTitle",void 0),Object(r.c)([Object(o.a)("label-close")],t.prototype,"labelClose",void 0),Object(r.c)([Object(o.a)("label-apply")],t.prototype,"labelApply",void 0),Object(r.c)([Object(o.a)("label-cancel")],t.prototype,"labelCancel",void 0),Object(r.c)([Object(o.a)("inline","false")],t.prototype,"inline",void 0),Object(r.c)([Object(o.a)("address")],t.prototype,"address",void 0),Object(r.c)([Object(o.a)("postal-area")],t.prototype,"postalArea",void 0),Object(r.c)([Object(o.a)("country")],t.prototype,"country",void 0),Object(r.c)([Object(o.a)("parcel-shop-id")],t.prototype,"parcelShopID",void 0),Object(r.c)([Object(o.a)("depot-id")],t.prototype,"depotID",void 0),Object(r.c)([Object(o.a)("map-style")],t.prototype,"mapStyle",void 0),Object(r.c)([Object(o.a)("address-query-name","address")],t.prototype,"addressQueryName",void 0),Object(r.c)([Object(o.a)("postal-area-query-name","postalArea")],t.prototype,"postalAreaQueryName",void 0),t=Object(r.c)([Object(o.b)({name:"cmp-location-selector"})],t)}(HTMLElement)},274:function(e,t,n){"use strict";n.r(t),n.d(t,"Witt002",(function(){return L}));var r=n(0),a=function(e,t){if(void 0===t&&(t=!1),null==e)return"";if("string"==typeof e)return t?o(e):e;if(Array.isArray(e))return""+function(e,t){for(var n=null==e?0:e.length,r=Array(n),a=0;a<n;++a)r[a]=t(e[a],a,e);return r}(e,(function(e){return a(e,t)}));var n=""+e;return"0"===n&&1/e==-1/0?"-0":t?o(n):n},o=function(e){return e.replace(/\s+/g,"")},i=n(305),c=n(308),s=n(307),l=n(40),u=n(2),p=n(3),d=function(e){function t(t,n){return e.call(this,t,(function(){return n}))||this}return Object(r.d)(t,e),t.prototype.rstt001=function(e,t,n,a,o){return void 0===a&&(a="body"),Object(r.b)(this,void 0,void 0,(function(){var i;return Object(r.e)(this,(function(r){return i=Date.now(),[2,this.get("rstt001",{match:e,type:t,caller:n,millis:i},a,o)]}))}))},t.prototype.rstt002=function(e,t,n,a){return void 0===n&&(n="body"),Object(r.b)(this,void 0,void 0,(function(){var o;return Object(r.e)(this,(function(r){return o=Date.now(),[2,this.get("rstt002/"+e,{caller:t,millis:o},n,a)]}))}))},t.prototype.rstt005=function(e,t,n,a,o){return void 0===a&&(a="body"),Object(r.b)(this,void 0,void 0,(function(){var i;return Object(r.e)(this,(function(r){return i=Date.now(),[2,this.get("rstt005",{tuNumbers:e,referenceNumber:t,caller:n,millis:i},a,o)]}))}))},t.prototype.rstt006=function(e,t,n,a){return void 0===n&&(n="body"),Object(r.b)(this,void 0,void 0,(function(){var o;return Object(r.e)(this,(function(r){return o=Date.now(),[2,this.get("rstt006",{match:e,caller:t,millis:o},n,a)]}))}))},t.prototype.rstt009=function(e,t,n,a){return void 0===n&&(n="body"),Object(r.b)(this,void 0,void 0,(function(){var o;return Object(r.e)(this,(function(i){return o=Date.now(),[2,this.get("rstt009",Object(r.a)(Object(r.a)({},e),{caller:t,millis:o}),n,a)]}))}))},t.prototype.rstt018=function(e,t,n,a,o){return void 0===a&&(a="body"),Object(r.b)(this,void 0,void 0,(function(){var i;return Object(r.e)(this,(function(r){return i=Date.now(),[2,this.post("rstt018/"+e,{caller:n,millis:i},{postalCode:t},a,o)]}))}))},t.instance=new t(p.a,window.GLS.api.prefixes.get(u.h)||"/"),t}(l.a).instance,f=function(){function e(e){this.api=e}return e.prototype.fetchParcel=function(e){return this.api.rstt002(e,"witt002")},e.prototype.fetchParcels=function(e,t){return this.api.rstt001(e,t,"witt002").then((function(e){return e.tuStatus}))},e.prototype.fetchParcelsForDirectLink=function(e,t){return this.api.rstt005(e,t,"witt002").then((function(e){return e.tuStatus}))},e.prototype.requestSignature=function(e,t){return this.api.rstt018(e,t,"witt002").then((function(e){return e.signature}))},e.prototype.requestReport=function(e){return this.api.rstt009(e,"witt002").then((function(e){return e.reportURL}))},e.instance=new e(d),e}().instance,h=function(e,t){var n=new URLSearchParams;e&&n.set("match",e),t&&n.set("type",t),document.querySelectorAll("header li.languages a").forEach((function(e){return e.search=n.toString()}))},m=new(function(){function e(e){this.service=e}return e.prototype.displaySignature=function(e){return{type:"PARCEL_DISPLAY_SIGNATURE",payload:{signature:e}}},e.prototype.searchParcels=function(e,t,n,a,o){var i=this;return void 0===n&&(n=!1),function(c){return Object(r.b)(i,void 0,void 0,(function(){var i,s,l;return Object(r.e)(this,(function(r){switch(r.label){case 0:c(this.searchParcelsStarted(e,t,a,o)),h(e,t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.service.fetchParcels(e,t)];case 2:return i=r.sent(),c(this.searchParcelsSuccess(i,n)),[3,4];case 3:return s=r.sent(),l="string"==typeof s.response.data?s.response.data:s.response.data.exceptionText,c(this.searchParcelsFailure(l)),[3,4];case 4:return[2]}}))}))}},e.prototype.searchDirectLink=function(e,t,n){var a=this;return function(o){return Object(r.b)(a,void 0,void 0,(function(){var a,i,c;return Object(r.e)(this,(function(r){switch(r.label){case 0:o(this.searchParcelsStarted([e,t].filter((function(e){return!!e})).join(),"",n)),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.service.fetchParcelsForDirectLink(e,t)];case 2:return a=r.sent(),o(this.searchParcelsSuccess(a,!0)),[3,4];case 3:return i=r.sent(),c="string"==typeof i.response.data?i.response.data:i.response.data.exceptionText,o(this.searchParcelsFailure(c)),[3,4];case 4:return[2]}}))}))}},e.prototype.displayParcel=function(e){var t=this;return function(n,a){return Object(r.b)(t,void 0,void 0,(function(){var t,o,i,c,s,l;return Object(r.e)(this,(function(r){switch(r.label){case 0:if(n(this.displayParcelStarted(e)),t=a(),o=t.type,i=t.parcels,c=i[e],h(c.tuNo,o),c.hasDetails)return n({type:"PARCEL_DISPLAY",payload:{index:e}}),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.service.fetchParcel(c.tuNo)];case 2:return s=r.sent(),n(this.searchParcelSuccess(e,s)),[3,4];case 3:return l=r.sent(),n(this.searchParcelFailure(l.message)),[3,4];case 4:return[2]}}))}))}},e.prototype.searchParcelSuccess=function(e,t){return{type:"PARCEL_DISPLAY_SUCCESS",payload:{index:e,parcel:t}}},e.prototype.searchParcelFailure=function(e){return{type:"PARCEL_DISPLAY_FAILURE",payload:{message:e}}},e.prototype.displayParcelStarted=function(e){return{type:"PARCEL_DISPLAY_STARTED",payload:{index:e}}},e.prototype.resetSearch=function(e){return h(),{type:"SEARCH_RESET",payload:{typeForForwardParcels:e}}},e.prototype.blankSearch=function(e){return{type:"BLANK_SEARCH",payload:{type:e}}},e.prototype.displayOverview=function(){return function(e,t){var n=t(),r=n.match,a=n.type;h(r,a),e({type:"PARCEL_OVERVIEW"})}},e.prototype.searchParcelsStarted=function(e,t,n,r){return{type:"PARCELS_SEARCH_STARTED",payload:{match:e,type:t,infoText:n,typeForForwardParcels:r}}},e.prototype.searchParcelsSuccess=function(e,t){return void 0===t&&(t=!1),{type:"PARCELS_SEARCH_SUCCESS",payload:{parcels:e,directLink:t}}},e.prototype.searchParcelsFailure=function(e){return{type:"PARCELS_SEARCH_FAILURE",payload:{message:e,directLink:!1}}},e}())(f),v=function(e,t){return Object(r.a)(Object(r.a)({},e),{index:t})},y=function(e,t){return"RifInternazionale"===e.type?Object(r.a)(Object(r.a)({},e),{value:e.value.replace(/,.+/,""),index:t}):Object(r.a)(Object(r.a)({},e),{index:t})},g=function(e,t){return Object(r.a)(Object(r.a)({},e),{value:"SERVICES"===e.type?e.value.replace(/\s*,\s*/g,", ").replace(/\s*,\s*$/,""):e.value,index:t})},b=function(e,t){return{signature:e.signature,addresses:Array.isArray(e.addresses)?e.addresses.filter((function(e){return"REQUEST"!==e.type})).map(v):e.addresses,parcelShop:e.parcelShop,references:Array.isArray(e.references)?e.references.map(y):[],dateTimes:t?Array.isArray(e.dateTimes)?e.dateTimes.map((function(e,t){return Object(r.a)(Object(r.a)({},e),{index:t})})):e.dateTimes:[],infos:t&&Array.isArray(e.infos)?e.infos.map(g):[],customsInfo:t?Array.isArray(e.customsInfo)?e.customsInfo.map((function(e,t){return Object(r.a)(Object(r.a)({},e),{index:t})})):e.customsInfo:[]}},O=function(e){return void 0!==w(e)},w=function(e){if(e.isDirectLink){var t=j(e);if(t&&t.tuNo){var n={tuNumbers:t.tuNo};if(t&&t.owners&&t.owners.length>0){var r=t.owners.reduce((function(e,t){return"REQUEST"===t.type?t.code:e}),"");r&&(n.tuOwnerCode=r)}return n}}},j=function(e){return e.parcels[e.selectedParcelIndex]},S=function(e){return e.total||0},_=function(e){return e.type||""},P=function(e){return e.typeForForwardParcels||""},k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleReset=function(e){e.preventDefault(),e.stopPropagation(),t.dispatch(m.resetSearch())},t.handleSearch=function(e){e.preventDefault(),e.stopPropagation();var n=jQuery(t.container).find('[name="match"]').val(),r=jQuery(t.container).find('[name="type"]:checked').val();n?t.dispatch(m.searchParcels(a(n,"singleWord"in t.container.dataset),a(r),"forceDetails"in t.container.dataset)):t.dispatch(m.blankSearch(a(r)))},t}return Object(r.d)(t,e),t.prototype.init=function(){jQuery(this.container).on("submit","form.js-parcel-search",this.handleSearch).on("reset","form.js-parcel-search",this.handleReset)},t.prototype.context=function(){var e=this,t=this.getState(),n=function(e){return e.match}(t),r=_(t),a=function(e){return e.errorMessage}(t),o=function(e){return e.blankSearchCount}(t),i=a||o&&o>=3,c=o&&o>=3,s=o&&o>=6;return{loading:function(e){return e.loading}(t),match:n||"",type:r,errorMessage:a,typeChecked:function(){return function(e){return e===r?"checked":""}},defaultChecked:function(){return r?"":"checked"},hasError:function(){return e.renderIf(i)},"3xBlankSearch":function(){return e.renderIf(c&&!s)},"6xBlankSearch":function(){return e.renderIf(s)}}},t.prototype.renderIf=function(e){return function(t,n){return e?n(t):""}},t}(s.a),x=n(287),T={overviewShipment:void 0,match:"",type:"",selectedParcelIndex:-1,total:0,parcels:[],errorMessage:void 0,blankSearchCount:0,loading:!1,isDirectLink:!1,scrollToInfoGraph:!1,scrollToOverview:!1},A=Object(x.a)((function(e,t){var n,a;switch(void 0===e&&(e=T),t.type){case"PARCELS_SEARCH_STARTED":return Object(r.a)(Object(r.a)({},e),{infoText:t.payload.infoText,loading:!0,overviewShipment:void 0,parcels:[],total:0,match:t.payload.match,type:t.payload.type,blankSearchCount:0,scrollToOverview:!1,typeForForwardParcels:t.payload.typeForForwardParcels});case"PARCELS_SEARCH_SUCCESS":var o=void 0;if(t.payload.parcels.length>1&&Array.isArray(t.payload.parcels[0].infos))void 0!==t.payload.parcels[0].infos.find((function(e){return"TOTALAMOUNT"===e.type}))&&(o=t.payload.parcels.shift());return Object(r.a)(Object(r.a)({},e),{loading:!1,isDirectLink:t.payload.directLink,overviewShipment:o,parcels:t.payload.parcels.map((function(e){var t={};return e.parcelShop&&!("mapViewActivatable"in e.parcelShop)&&(t={parcelShop:Object(r.a)(Object(r.a)({},e.parcelShop),{mapViewActivatable:!0})}),Object(r.a)(Object(r.a)(Object(r.a)({},e),t),{hasDetails:(e.references||[]).some((function(e){return"RifInternazionale"===e.type}))})})),total:t.payload.parcels.length,errorMessage:void 0,selectedParcelIndex:1===t.payload.parcels.length?0:-1,scrollToOverview:!0});case"PARCELS_SEARCH_FAILURE":return Object(r.a)(Object(r.a)({},e),{infoText:void 0,loading:!1,isDirectLink:!1,errorMessage:t.payload.message});case"PARCEL_DISPLAY_STARTED":return Object(r.a)(Object(r.a)({},e),{loading:!0,index:t.payload.index});case"PARCEL_DISPLAY_SUCCESS":var i=Object(r.a)(Object(r.a)({},t.payload.parcel),{hasDetails:!0}),c=Object.assign(Object(r.g)(e.parcels),((n={})[t.payload.index]=Object(r.a)(Object(r.a)({},e.parcels[t.payload.index]),i),n));return Object(r.a)(Object(r.a)({},e),{loading:!1,errorMessage:void 0,parcels:c,selectedParcelIndex:t.payload.index,scrollToInfoGraph:!0});case"PARCEL_DISPLAY":return Object(r.a)(Object(r.a)({},e),{loading:!1,errorMessage:void 0,selectedParcelIndex:t.payload.index,scrollToInfoGraph:!0});case"PARCEL_DISPLAY_FAILURE":return Object(r.a)(Object(r.a)({},e),{loading:!1,message:t.payload.message,parcels:[]});case"PARCEL_OVERVIEW":return Object(r.a)(Object(r.a)({},e),{infoText:void 0,selectedParcelIndex:-1,scrollToInfoGraph:!1,scrollToOverview:!1});case"SEARCH_RESET":return Object(r.a)(Object(r.a)({},T),{typeForForwardParcels:t.payload.typeForForwardParcels});case"BLANK_SEARCH":return Object(r.a)(Object(r.a)({},e),{blankSearchCount:(e.blankSearchCount||0)+1,type:t.payload.type});case"PARCEL_DISPLAY_SIGNATURE":return Object(r.a)(Object(r.a)({},e),{scrollToInfoGraph:!1,parcels:Object.assign(Object(r.g)(e.parcels),(a={},a[e.selectedParcelIndex]=Object(r.a)(Object(r.a)({},e.parcels[e.selectedParcelIndex]),{signature:t.payload.signature}),a))});default:return e}})),R=n(299),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.doGotoDetail=function(e){e.preventDefault(),e.stopPropagation(),t.dispatch(m.displayParcel(Number(e.currentTarget.dataset.index)))},t}return Object(r.d)(t,e),t.prototype.context=function(){var e=this.getState();return{parcels:function(e){return e.parcels.length<=1?[]:e.parcels.map((function(e,t){return{date:e.date,referenceNo:e.referenceNo,statusText:e.progressBar.statusText||e.progressBar.statusBar.reduce((function(e,t){return"CURRENT"===t.imageStatus?t.imageText:e}),""),statusIndex:e.progressBar.colourIndex,canGotoDetail:"NORECORD"!==e.progressBar.statusInfo,index:t,address:[e.addressInfo?e.addressInfo.city:"",e.addressInfo?e.addressInfo.countryCode:""].filter((function(e){return""!==e})).join(" ")}}))}(e),totalParcelsCount:S(e),shipment:function(e){if(!e.overviewShipment)return null;var t=b(e.overviewShipment,!0);return Object(r.a)(Object(r.a)({},t),{referenceNo:e.overviewShipment.referenceNo,arrivalTime:e.overviewShipment.arrivalTime})}(e),history:function(e){return e.overviewShipment?(e.overviewShipment.history||[]).map((function(e,t){return Object(r.a)(Object(r.a)({},e),{index:t})})):null}(e)}},t.prototype.init=function(){jQuery(this.container).on("click","a.js-goto-detail",this.doGotoDetail)},t.prototype.display=function(t){return Object(r.b)(this,void 0,void 0,(function(){var n;return Object(r.e)(this,(function(r){switch(r.label){case 0:return[4,e.prototype.display.call(this,t)];case 1:return n=r.sent(),this.getState().scrollToOverview&&Object(R.f)(n),[2,n]}}))}))},t}(s.a),I=n(166),E=n(304),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.doGotoPrevious=function(e){e.preventDefault(),e.stopPropagation(),t.dispatch(m.displayParcel(Number(e.currentTarget.dataset.previous)))},t.doGotoNext=function(e){e.preventDefault(),e.stopPropagation(),t.dispatch(m.displayParcel(Number(e.currentTarget.dataset.next)))},t.doGotoOverview=function(e){e.preventDefault(),e.stopPropagation(),t.dispatch(m.displayOverview())},t.doShowSignatureForm=function(e){e.preventDefault(),e.stopPropagation(),Object(R.c)(e.currentTarget),Object(R.g)(t.container.querySelector(".js-signature-form"))},t.doDownloadReport=function(e){e.preventDefault(),e.stopPropagation();var n=w(t.getState());n&&(e.currentTarget.classList.add("loading"),f.requestReport(n).then((function(e){window.location.href=e})).finally((function(){e.currentTarget.classList.remove("loading")})))},t.doSubmitSignatureForm=function(e){e.preventDefault(),e.stopPropagation();var n=j(t.getState()),r=e.currentTarget,a=r.elements.namedItem("postalCode");Object(I.d)(r.querySelector("input")),r.querySelector(".feedback.invalid-custom-1").textContent="",a.value?f.requestSignature(n.tuNo,a.value).then((function(e){t.dispatch(m.displaySignature(e))})).catch((function(e){Object(I.c)(r.querySelector("input"),"invalid-custom-1");var t="string"==typeof e.response.data?e.response.data:e.response.data.exceptionText;r.querySelector(".feedback.invalid-custom-1").insertAdjacentHTML("afterbegin",t)})):Object(I.c)(r.querySelector("input"),"invalid-value-missing")},t}return Object(r.d)(t,e),t.prototype.context=function(){var e=this.getState();return Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},function(e){var t,n=j(e),a=n.references.find((function(e){return"NOTECARDID"===e.type})),o=n.progressBar.statusBar.find((function(e){return"CURRENT"===e.imageStatus})),i=O(e);return{infoText:e.infoText,arrivalTime:!!(null===(t=n.arrivalTime)||void 0===t?void 0:t.value)&&n.arrivalTime,changeDelivery:!(!n.changeDeliveryPossible||!a)&&a.value,additionalEventTextDescription:(null==o?void 0:o.statusText)||"",parcelStatus:n.progressBar.statusBar.map((function(e){var t=(e.status+"_"+e.imageStatus).toLowerCase();return Object(r.a)(Object(r.a)({},e),{imageName:t,isCurrent:e===o,is_cancelled_current:"canceled_current"===t,is_delivered_current:"delivered_current"===t,is_delivered_pending:"delivered_pending"===t,is_deliveredps_current:"deliveredps_current"===t,is_final_current:"final_current"===t,is_indelivery_complete:"indelivery_complete"===t,is_indelivery_current:"indelivery_current"===t,is_indelivery_pending:"indelivery_pending"===t,is_inpickup_complete:"inpickup_complete"===t,is_inpickup_current:"inpickup_current"===t,is_inpickup_pending:"inpickup_pending"===t,is_intransit_complete:"intransit_complete"===t,is_intransit_current:"intransit_current"===t,is_intransit_pending:"intransit_pending"===t,is_inwarehouse_complete:"inwarehouse_complete"===t,is_inwarehouse_current:"inwarehouse_current"===t,is_inwarehouse_pending:"inwarehouse_pending"===t,is_notdelivered_current:"notdelivered_current"===t,is_notpickedup_complete:"notpickedup_complete"===t,is_notpickedup_current:"notpickedup_current"===t,is_plannedpickup_complete:"plannedpickup_complete"===t,is_plannedpickup_current:"plannedpickup_current"===t,is_plannedpickup_pending:"plannedpickup_pending"===t,is_preadvice_complete:"preadvice_complete"===t,is_preadvice_current:"preadvice_current"===t})})),liveTracking:!!n.liveTrackingUrl&&n.liveTrackingUrl,hasPOD:i}}(e)),function(e){var t=j(e),n=function(e){return e.isDirectLink}(e);return b(t,n)}(e)),function(e){var t=j(e),n=function(n){if(!n.resoinoltro&&!n.forward)return null;var r=t.references.reduce((function(e,t){return"FORWARDNUMBER"===t.type?t:e}),null);if(!r||!r.value)return null;var a=new URLSearchParams(window.location.search);a.set("match",r.value);var o=P(e)||_(e);return o&&a.set("type",o),window.location.origin+window.location.pathname+"?"+a.toString()};return{history:(t.history||[]).map((function(e,t){return Object(r.a)(Object(r.a)({},e),{index:t,forwardUrl:n(e)})}))}}(e)),function(e){var t,n,r=e.total||0,a=Math.max(0,e.selectedParcelIndex-1),o=Math.min(r-1,e.selectedParcelIndex+1);return{hasNavigation:r>1,previous:a,hasPrevious:e.selectedParcelIndex>a&&"NORECORD"!==(null===(t=e.parcels)||void 0===t?void 0:t[a].progressBar.statusInfo),next:o,hasNext:e.selectedParcelIndex<o&&"NORECORD"!==(null===(n=e.parcels)||void 0===n?void 0:n[o].progressBar.statusInfo)}}(e))},t.prototype.init=function(){jQuery(this.container).on("click","a.js-goto-previous",this.doGotoPrevious).on("click","a.js-goto-next",this.doGotoNext).on("click","a.js-goto-overview",this.doGotoOverview).on("click","a.js-show-signature-form",this.doShowSignatureForm).on("click",".js-download-report",this.doDownloadReport).on("submit","form.js-signature-form",this.doSubmitSignatureForm)},t.prototype.display=function(t){return Object(r.b)(this,void 0,void 0,(function(){var n,a,o;return Object(r.e)(this,(function(r){switch(r.label){case 0:return[4,e.prototype.display.call(this,t)];case 1:return n=r.sent(),this.getState().scrollToInfoGraph&&Object(R.f)(n),(a=function(e){var t,n,r=j(e);if("parcelShop"in r&&r.parcelShop)return{psID:r.parcelShop.psID,country:null===(n=null===(t=r.parcelShop.address)||void 0===t?void 0:t.postalArea)||void 0===n?void 0:n.countryCode}}(this.getState()))?(o=n.querySelector(".js-location-selector"),[4,Object(E.a)((function(){return!!o.parcelShopIDProvider}),200)]):[3,3];case 2:r.sent(),o.parcelShopIDProvider=function(){return a.psID},o.countryProvider=function(){return a.country},r.label=3;case 3:return[2,n]}}))}))},t}(s.a),L=(n(26),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.init=function(){var e=this;this.store.subscribe((function(){var t=e.getState(),n=j(t),r=S(t);n?e.mainSlot(e.parcelDetailMode).catch(console.error):Promise.all([e.mainSlot(e.parcelSearchMode),r>1?e.appendSlot(e.parcelOverviewMode):Promise.resolve(null)]).catch(console.error)}))},t.prototype.display=function(){var e=new URLSearchParams(window.location.search),t="true"===e.get("directLink"),n=e.getAll("tuNumbers").join(),r=e.getAll("referenceNumber").join(),o=e.get("match")||e.get("unitno")||"",i=e.get("type")||"",c=e.get("infoText"),s="typeForForwardParcels"in this.dataset?this.dataset.typeForForwardParcels:"";return!t||""===n&&""===r?""!==o?(this.dispatch(m.searchParcels(a(o,"singleWord"in this.dataset),i,"forceDetails"in this.dataset,c||void 0,s)),Promise.resolve()):(this.dispatch(m.resetSearch(s)),Promise.resolve()):(this.dispatch(m.searchDirectLink(n,r,c||void 0)),Promise.resolve())},t.NAME="witt002",Object(r.c)([Object(i.b)({factory:k,template:"parcel-search"})],t.prototype,"parcelSearchMode",void 0),Object(r.c)([Object(i.b)({factory:D,template:"parcel-overview"})],t.prototype,"parcelOverviewMode",void 0),Object(r.c)([Object(i.b)({factory:C,template:"parcel-detail"})],t.prototype,"parcelDetailMode",void 0),t=Object(r.c)([Object(i.a)({tagName:"wdg-witt002",reducer:A})],t)}(c.a))}},[[274,0,1]]]);